from os import TMP_MAX
import queue
from webbrowser import get

def init_queues(crate_list, queue):
  for crate in crate_list:
    queue.put(crate)
  return queue

def move_queue(number_crates, src, dest):
  tmp_queue = queue.LifoQueue()
  for idx in range(number_crates):
    crate = src.get()
    tmp_queue.put(crate)
  for idx in range(number_crates):
    crate = tmp_queue.get()
    dest.put(crate)

def get_queue(queue_num):
  if queue_num == 1:
    ret_queue = q1
  elif queue_num == 2:
    ret_queue = q2
  elif queue_num == 3:
    ret_queue = q3
  elif queue_num == 4:
    ret_queue = q4
  elif queue_num == 5:
    ret_queue = q5
  elif queue_num == 6:
    ret_queue = q6
  elif queue_num == 7:
    ret_queue = q7
  elif queue_num == 8:
    ret_queue = q8
  else:
    ret_queue = q9

  return ret_queue

def print_queue():
  print(q1.queue)
  print(q2.queue)
  print(q3.queue)
  print(q4.queue)
  print(q5.queue)
  print(q6.queue)
  print(q7.queue)
  print(q8.queue)
  print(q9.queue)

q1 = queue.LifoQueue()
crate1 = ['H','B','V','W','N','M','L','P']
q1 = init_queues(crate1, q1)

q2 = queue.LifoQueue()
crate2 = ['H','Q','H']
q2 = init_queues(crate2, q2)

q3 = queue.LifoQueue()
crate3 = ['N','D','B','G','F','Q','M','L']
q3 = init_queues(crate3, q3)

q4 = queue.LifoQueue()
crate4 = ['Z','T','F','Q','M','W','G']
q4 = init_queues(crate4, q4)

q5 = queue.LifoQueue()
crate5 = ['M','T','H','P']
q5 = init_queues(crate5, q5)

q6 = queue.LifoQueue()
crate6 = ['C','B','M','J','D','H','G','T']
q6 = init_queues(crate6, q6)

q7 = queue.LifoQueue()
crate7 = ['M','N','B','F','V','R']
q7 = init_queues(crate7, q7)

q8 = queue.LifoQueue()
crate8 = ['P','L','H','M','R','G','S']
q8 = init_queues(crate8, q8)

q9 = queue.LifoQueue()
crate9 = ['P','D','B','C','N']
q9 = init_queues(crate9, q9)

tmp =0
print_queue()
with open ("input.txt", "r") as input:
    Lines = input.readlines()
    for line in Lines:
      print(line)
      command = line.split()

      num_crates = command[1]
      src = command[3]
      dest = command[5]

      src = get_queue(int(src))
      dest = get_queue(int(dest))
      move_queue(int(num_crates), src, dest)

print_queue()
